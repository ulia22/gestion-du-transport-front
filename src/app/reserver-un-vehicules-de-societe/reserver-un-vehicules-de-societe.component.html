
<div class="container" style="margin-top: 10px">
 

<div class="row">

  <button type="button" class="btn btn-outline-primary col-12" style="text-align:left" (click)="isCollapsed1 = !isCollapsed1"
  [attr.aria-expanded]="!isCollapsed1" aria-controls="collapseExample">
  Véhicule de société
</button>

<div class="col-12">
  <div id="collapseExample" [ngbCollapse]="isCollapsed1">
    <div class="card col-12 border border-primary " style="margin-top: 10px">
      <div class="container">
    <div class="col-12">
      <div id="collapseExample" [ngbCollapse]="isCollapsed1">
        <div class="row">
          <label ><b>Date / heure de réservation</b></label>
        </div>
        <div class="row">

          <!--Calendar -->
          <form class="form-inline">
            <div class="form-group">
              <div class="input-group">
                <input class="form-control" placeholder="yyyy-mm-dd"
                name="dp" [(ngModel)]="datePickerReservation" #reservation ngbDatepicker #dtreservation="ngbDatepicker">
                <button class="input-group-addon" (click)="dtreservation.toggle()" type="button">
                  <img  src="http://schoolweb.tdsb.on.ca/Portals/mckee/images/Newsletter/calendar.jpg" style="width: 1.2rem; height: 1rem; cursor: pointer;"/>
                </button>
              </div>
            </div>
          </form>
          <div class="col-1"></div>
          <!--time -->
          <ngb-timepicker [(ngModel)]="timeReserve"
          [hourStep]="hourStepReserve" [minuteStep]="minuteStepReserve" ></ngb-timepicker>
          <!-- -->
        </div>

        <div class="row">

        </div>


        <div class="row">
          <label><b> Date / heure de retour </b></label>
        </div>

        <div class="row">

          <!--Calendar -->
          <form class="form-inline">
            <div class="form-group">
              <div class="input-group">
                <input class="form-control" placeholder="yyyy-mm-dd"
                name="dp" [(ngModel)]="datePickerRetour" ngbDatepicker #dtretour="ngbDatepicker">
                <button class="input-group-addon" (click)="dtretour.toggle()" type="button">
                  <img  src="http://schoolweb.tdsb.on.ca/Portals/mckee/images/Newsletter/calendar.jpg" style="width: 1.2rem; height: 1rem; cursor: pointer;"/>
                </button>
              </div>
            </div>
          </form>
          <div class="col-1"></div>
          <!--time -->
          <ngb-timepicker [(ngModel)]="timeRetour"
          [hourStep]="hourStepRetour" [minuteStep]="minuteStepRetour" ></ngb-timepicker>
          <!-- -->

        </div>

        <br>


        <!-- Carrousel -->
        <div class="container">
          <ngb-carousel>
            <ng-template ngbSlide *ngFor="let vehicule of vehicules">
              <img src="{{vehicule.photo}}"  class="rounded mx-auto d-block" alt="Photo du collegue" height="500rem" width="600rem" alt="Random first slide">
              <div class="carousel-caption">
                <h3 style="color: red">{{vehicule.immatriculation}}</h3>
                <p style="color: red"> {{vehicule.marque}} - {{vehicule.modele}}</p>
                <p style="color: red"> {{vehicule.categorie}}</p>
                <button (click)="open(content , vehicule.immatriculation , vehicule.marque ,vehicule.modele )">réserver </button>
              </div>
            </ng-template>
          </ngb-carousel>
        </div>
        <br> <br>
        <!--fin carrousel -->

      </div>
    </div>

  </div>
</div>
</div>
<!-- Reservation covoiturage -->
<ng-template #content2 let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Réservation d'un covoiturage</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-6" style="text-align:right">
        <label>Départ :</label>
      </div>
      <div class="col-6">
        <label>{{annonceSelected.addrDepart}}</label>
      </div>
      <div class="col-6" style="text-align:right">
        <label>Destination :</label>
      </div>
      <div class="col-6">
        <label>{{annonceSelected.addrArrivee}}</label>
      </div>
      <div class="col-6" style="text-align:right">
        <label>Date/Heure :</label>
      </div>
      <div class="col-6">
        <label>{{annonceSelected.dateDepart | jsontoDate | date:"dd/MM/yyyy HH:mm"}}</label>
      </div>
      <div class="col-6" style="text-align:right">
        <label>Véhicule :</label>
      </div>
      <div class="col-6">
        <label>{{annonceSelected.marque}} - {{annonceSelected.modele}}</label>
      </div>
      <div class="col-6" style="text-align:right">
        <label>Chauffeur :</label>
      </div>
      <div class="col-6">
        <label>{{annonceSelected.prenomChauffeur}} {{annonceSelected.nomChauffeur}}</label>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary">Enregistrer</button>
  </div>
</ng-template>
</div>

<!-- Modal Reservation véhicule-->
<ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Réservation d'un véhicule</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-6" style="text-align:right">
        <label>Date/heure de réservation :</label>
      </div>
      <div class="col-6">
        <label #modalDateDepart>{{ datePickerReservation.day}}/{{datePickerReservation.month}}/{{datePickerReservation.year}} {{timeReserve.hour}}h{{timeReserve.minute}}</label>
      </div>
    </div>
    <div class="row">
      <div class="col-6" style="text-align:right">
        <label>Date/heure retour :</label>
      </div>
      <div class="col-6">
        <label #modalDateRetour>{{ datePickerRetour.day}}/{{datePickerRetour.month}}/{{datePickerRetour.year}} {{timeRetour.hour}}h{{timeRetour.minute}}</label>
      </div>
    </div>
    <div class="row">
      <div class="col-6" style="text-align:right">
        <label>Immatriculation :</label>
      </div>
      <div class="col-6">
        <label #modalImmatriculation>{{stringImmatriculation}}</label>
      </div>
    </div>
    <div class="row">
      <div class="col-6" style="text-align:right">
        <label>Marque :</label>
      </div>
      <div class="col-6">
        <label #modalMarque>{{stringMarque}}</label>
      </div>
    </div>
    <div class="row">
      <div class="col-6" style="text-align:right">
        <label>Modèle :</label>
      </div>
      <div class="col-6">
        <label #modalModel>{{stringModele}}</label>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="c('Close click')">Annuler</button>
    <button type="button" class="btn btn-outline-primary" (click)="add(
    datePickerReservation.day,datePickerReservation.month, datePickerReservation.year ,timeReserve.hour ,timeReserve.minute ,
    datePickerRetour.day,datePickerRetour.month,datePickerRetour.year,timeRetour.hour,timeRetour.minute
    ,stringImmatriculation ,stringMarque ,stringModele)" (click)="c('Close click')">Confirmer</button>
  </div>
</ng-template>
